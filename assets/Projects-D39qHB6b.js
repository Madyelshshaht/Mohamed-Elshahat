import{c as _,r as m,j as a,L as R,G as V,S as U}from"./index-DBQgM3Jb.js";import{H as W}from"./Heading-Cqm-XlnN.js";import{e as X,c as K,m as z,b as Y,d as J,f as G,S as Q,A as Z,a as ee}from"./autoplay-BWGYuMgu.js";import{L as te,y as D}from"./ReactToastify-CxSHC5vR.js";import{G as se,F as ae}from"./index-Duzoig4R.js";import{M as le,u as q,P as ie,a as ne,b as re,L as oe,m as O}from"./proxy-ViRbf3sp.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],de=_("ExternalLink",ce);class pe extends m.Component{getSnapshotBeforeUpdate(e){const c=this.props.childRef.current;if(c&&e.isPresent&&!this.props.isPresent){const r=c.offsetParent,d=r instanceof HTMLElement&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=c.offsetHeight||0,i.width=c.offsetWidth||0,i.top=c.offsetTop,i.left=c.offsetLeft,i.right=d-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fe({children:o,isPresent:e,anchorX:c}){const r=m.useId(),d=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:v}=m.useContext(le);return m.useInsertionEffect(()=>{const{width:C,height:b,top:f,left:p,right:g}=i.current;if(e||!d.current||!C||!b)return;const x=c==="left"?`left: ${p}`:`right: ${g}`;d.current.dataset.motionPopId=r;const y=document.createElement("style");return v&&(y.nonce=v),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${C}px !important;
            height: ${b}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),a.jsx(pe,{isPresent:e,childRef:d,sizeRef:i,children:m.cloneElement(o,{ref:d})})}const ue=({children:o,initial:e,isPresent:c,onExitComplete:r,custom:d,presenceAffectsLayout:i,mode:v,anchorX:C})=>{const b=q(me),f=m.useId(),p=m.useCallback(x=>{b.set(x,!0);for(const y of b.values())if(!y)return;r&&r()},[b,r]),g=m.useMemo(()=>({id:f,initial:e,isPresent:c,custom:d,onExitComplete:p,register:x=>(b.set(x,!1),()=>b.delete(x))}),i?[Math.random(),p]:[c,p]);return m.useMemo(()=>{b.forEach((x,y)=>b.set(y,!1))},[c]),m.useEffect(()=>{!c&&!b.size&&r&&r()},[c]),v==="popLayout"&&(o=a.jsx(fe,{isPresent:c,anchorX:C,children:o})),a.jsx(ie.Provider,{value:g,children:o})};function me(){return new Map}const H=o=>o.key||"";function T(o){const e=[];return m.Children.forEach(o,c=>{m.isValidElement(c)&&e.push(c)}),e}const he=({children:o,custom:e,initial:c=!0,onExitComplete:r,presenceAffectsLayout:d=!0,mode:i="sync",propagate:v=!1,anchorX:C="left"})=>{const[b,f]=ne(v),p=m.useMemo(()=>T(o),[o]),g=v&&!b?[]:p.map(H),x=m.useRef(!0),y=m.useRef(p),k=q(()=>new Map),[$,F]=m.useState(p),[P,t]=m.useState(p);re(()=>{x.current=!1,y.current=p;for(let n=0;n<P.length;n++){const u=H(P[n]);g.includes(u)?k.delete(u):k.get(u)!==!0&&k.set(u,!1)}},[P,g.length,g.join("-")]);const s=[];if(p!==$){let n=[...p];for(let u=0;u<P.length;u++){const S=P[u],N=H(S);g.includes(N)||(n.splice(u,0,S),s.push(S))}return i==="wait"&&s.length&&(n=s),t(T(n)),F(p),null}const{forceRender:l}=m.useContext(oe);return a.jsx(a.Fragment,{children:P.map(n=>{const u=H(n),S=v&&!b?!1:p===P||g.includes(u),N=()=>{if(k.has(u))k.set(u,!0);else return;let h=!0;k.forEach(E=>{E||(h=!1)}),h&&(l==null||l(),t(y.current),v&&(f==null||f()),r&&r())};return a.jsx(ue,{isPresent:S,initial:!x.current||c?void 0:!1,custom:e,presenceAffectsLayout:d,mode:i,onExitComplete:S?void 0:N,anchorX:C,children:n},u)})})};function ge(o,e,c,r){return o.params.createElements&&Object.keys(r).forEach(d=>{if(!c[d]&&c.auto===!0){let i=X(o.el,`.${r[d]}`)[0];i||(i=K("div",r[d]),i.className=r[d],o.el.append(i)),c[d]=i,e[d]=i}}),c}function I(o){return o===void 0&&(o=""),`.${o.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function xe(o){let{swiper:e,extendParams:c,on:r,emit:d}=o;const i="swiper-pagination";c({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let v,C=0;function b(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(t,s){const{bulletActiveClass:l}=e.params.pagination;t&&(t=t[`${s==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${l}-${s}`),t=t[`${s==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${l}-${s}-${s}`)))}function p(t,s,l){if(t=t%l,s=s%l,s===t+1)return"next";if(s===t-1)return"previous"}function g(t){const s=t.target.closest(I(e.params.pagination.bulletClass));if(!s)return;t.preventDefault();const l=G(s)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===l)return;const n=p(e.realIndex,l,e.slides.length);n==="next"?e.slideNext():n==="previous"?e.slidePrev():e.slideToLoop(l)}else e.slideTo(l)}function x(){const t=e.rtl,s=e.params.pagination;if(b())return;let l=e.pagination.el;l=z(l);let n,u;const S=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,N=e.params.loop?Math.ceil(S/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(u=e.previousRealIndex||0,n=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(n=e.snapIndex,u=e.previousSnapIndex):(u=e.previousIndex||0,n=e.activeIndex||0),s.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const h=e.pagination.bullets;let E,M,B;if(s.dynamicBullets&&(v=J(h[0],e.isHorizontal()?"width":"height"),l.forEach(j=>{j.style[e.isHorizontal()?"width":"height"]=`${v*(s.dynamicMainBullets+4)}px`}),s.dynamicMainBullets>1&&u!==void 0&&(C+=n-(u||0),C>s.dynamicMainBullets-1?C=s.dynamicMainBullets-1:C<0&&(C=0)),E=Math.max(n-C,0),M=E+(Math.min(h.length,s.dynamicMainBullets)-1),B=(M+E)/2),h.forEach(j=>{const w=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(L=>`${s.bulletActiveClass}${L}`)].map(L=>typeof L=="string"&&L.includes(" ")?L.split(" "):L).flat();j.classList.remove(...w)}),l.length>1)h.forEach(j=>{const w=G(j);w===n?j.classList.add(...s.bulletActiveClass.split(" ")):e.isElement&&j.setAttribute("part","bullet"),s.dynamicBullets&&(w>=E&&w<=M&&j.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),w===E&&f(j,"prev"),w===M&&f(j,"next"))});else{const j=h[n];if(j&&j.classList.add(...s.bulletActiveClass.split(" ")),e.isElement&&h.forEach((w,L)=>{w.setAttribute("part",L===n?"bullet-active":"bullet")}),s.dynamicBullets){const w=h[E],L=h[M];for(let A=E;A<=M;A+=1)h[A]&&h[A].classList.add(...`${s.bulletActiveClass}-main`.split(" "));f(w,"prev"),f(L,"next")}}if(s.dynamicBullets){const j=Math.min(h.length,s.dynamicMainBullets+4),w=(v*j-v)/2-B*v,L=t?"right":"left";h.forEach(A=>{A.style[e.isHorizontal()?L:"top"]=`${w}px`})}}l.forEach((h,E)=>{if(s.type==="fraction"&&(h.querySelectorAll(I(s.currentClass)).forEach(M=>{M.textContent=s.formatFractionCurrent(n+1)}),h.querySelectorAll(I(s.totalClass)).forEach(M=>{M.textContent=s.formatFractionTotal(N)})),s.type==="progressbar"){let M;s.progressbarOpposite?M=e.isHorizontal()?"vertical":"horizontal":M=e.isHorizontal()?"horizontal":"vertical";const B=(n+1)/N;let j=1,w=1;M==="horizontal"?j=B:w=B,h.querySelectorAll(I(s.progressbarFillClass)).forEach(L=>{L.style.transform=`translate3d(0,0,0) scaleX(${j}) scaleY(${w})`,L.style.transitionDuration=`${e.params.speed}ms`})}s.type==="custom"&&s.renderCustom?(h.innerHTML=s.renderCustom(e,n+1,N),E===0&&d("paginationRender",h)):(E===0&&d("paginationRender",h),d("paginationUpdate",h)),e.params.watchOverflow&&e.enabled&&h.classList[e.isLocked?"add":"remove"](s.lockClass)})}function y(){const t=e.params.pagination;if(b())return;const s=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let l=e.pagination.el;l=z(l);let n="";if(t.type==="bullets"){let u=e.params.loop?Math.ceil(s/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&u>s&&(u=s);for(let S=0;S<u;S+=1)t.renderBullet?n+=t.renderBullet.call(e,S,t.bulletClass):n+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?n=t.renderFraction.call(e,t.currentClass,t.totalClass):n=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?n=t.renderProgressbar.call(e,t.progressbarFillClass):n=`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],l.forEach(u=>{t.type!=="custom"&&(u.innerHTML=n||""),t.type==="bullets"&&e.pagination.bullets.push(...u.querySelectorAll(I(t.bulletClass)))}),t.type!=="custom"&&d("paginationRender",l[0])}function k(){e.params.pagination=ge(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let s;typeof t.el=="string"&&e.isElement&&(s=e.el.querySelector(t.el)),!s&&typeof t.el=="string"&&(s=[...document.querySelectorAll(t.el)]),s||(s=t.el),!(!s||s.length===0)&&(e.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(s)&&s.length>1&&(s=[...e.el.querySelectorAll(t.el)],s.length>1&&(s=s.find(l=>Y(l,".swiper")[0]===e.el))),Array.isArray(s)&&s.length===1&&(s=s[0]),Object.assign(e.pagination,{el:s}),s=z(s),s.forEach(l=>{t.type==="bullets"&&t.clickable&&l.classList.add(...(t.clickableClass||"").split(" ")),l.classList.add(t.modifierClass+t.type),l.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(l.classList.add(`${t.modifierClass}${t.type}-dynamic`),C=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&l.classList.add(t.progressbarOppositeClass),t.clickable&&l.addEventListener("click",g),e.enabled||l.classList.add(t.lockClass)}))}function $(){const t=e.params.pagination;if(b())return;let s=e.pagination.el;s&&(s=z(s),s.forEach(l=>{l.classList.remove(t.hiddenClass),l.classList.remove(t.modifierClass+t.type),l.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(l.classList.remove(...(t.clickableClass||"").split(" ")),l.removeEventListener("click",g))})),e.pagination.bullets&&e.pagination.bullets.forEach(l=>l.classList.remove(...t.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:s}=e.pagination;s=z(s),s.forEach(l=>{l.classList.remove(t.horizontalClass,t.verticalClass),l.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?P():(k(),y(),x())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&x()}),r("snapIndexChange",()=>{x()}),r("snapGridLengthChange",()=>{y(),x()}),r("destroy",()=>{$()}),r("enable disable",()=>{let{el:t}=e.pagination;t&&(t=z(t),t.forEach(s=>s.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{x()}),r("click",(t,s)=>{const l=s.target,n=z(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&n&&n.length>0&&!l.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&l===e.navigation.nextEl||e.navigation.prevEl&&l===e.navigation.prevEl))return;const u=n[0].classList.contains(e.params.pagination.hiddenClass);d(u===!0?"paginationShow":"paginationHide"),n.forEach(S=>S.classList.toggle(e.params.pagination.hiddenClass))}});const F=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=z(t),t.forEach(s=>s.classList.remove(e.params.pagination.paginationDisabledClass))),k(),y(),x()},P=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=z(t),t.forEach(s=>s.classList.add(e.params.pagination.paginationDisabledClass))),$()};Object.assign(e.pagination,{enable:F,disable:P,render:y,update:x,init:k,destroy:$})}const be=({isOpen:o,message:e,onConfirm:c,onCancel:r})=>o?a.jsx("div",{className:"fixed inset-0 z-30  flex items-center justify-center bg-[rgba(0,0,0,0.5)]",children:a.jsxs("div",{className:"bg-white  p-6 rounded shadow-md w-11/12 max-w-md absolute top-5 ",children:[a.jsx("p",{className:"sm:text-lg text-md mb-4 text-black",children:e}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 cursor-pointer",children:"Cancel"}),a.jsx("button",{onClick:c,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 cursor-pointer",children:"Confirm"})]})]})}):null;function ye(o){return se({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(o)}const ve=({filteredProjects:o})=>{const e=localStorage.getItem("token"),[c,r]=m.useState(!1),[d,i]=m.useState(null),v=f=>{i(f),r(!0)},C=async()=>{if(d)try{(await(await fetch(`https://backendportfolio-seven.vercel.app/api/projects/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).json()).success?(D.success("Projetc Deleted Successfully"),setProjects(projects.filter(g=>g._id!==d))):D.error("Failed to delete project")}catch(f){console.error(f),D.error("Error deleting project")}finally{r(!1),i(null)}},b=()=>{r(!1),i(null),D.error("Deleted Cansel")};return a.jsxs(a.Fragment,{children:[a.jsx(te,{}),o.length>0?a.jsx(he,{mode:"wait",children:o.map((f,p)=>{var x,y;const g=p%2===0?"md:flex-row-reverse":"md:flex-row";return a.jsxs(O.div,{initial:{opacity:0,scale:.95,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{duration:.4,ease:"easeInOut"},className:`project flex md:flex-row ${g} items-center flex-col gap-2 shadow-md shadow-gray-500 mb-10`,children:[a.jsx("div",{className:"img md:w-1/2 w-full p-2",children:a.jsx(Q,{slidesPerView:1,spaceBetween:30,loop:!0,autoplay:{delay:8e3,disableOnInteraction:!1},pagination:{clickable:!0},modules:[Z,xe],className:"mySwiper",children:(x=f.images)==null?void 0:x.map((k,$)=>a.jsx(ee,{children:a.jsx("img",{src:k.url,alt:`project image ${$+1}`,className:"rounded-lg"})},$))})}),a.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"info p-2 lg:p-4 md:w-1/2 w-full flex flex-col overflow-hidden gap-2",children:[a.jsx("h3",{className:"title mb-2 text-2xl",children:f.title}),a.jsx("div",{className:"desc mb-2 text-xs md:text-md lg:text-lg",children:f.desc}),a.jsx("div",{className:"skills-used flex items-center gap-x-5 gap-y-3 flex-wrap text-black",children:(y=f.skills)==null?void 0:y.map((k,$)=>a.jsx("div",{className:"rounded-2xl cursor-pointer bg-gray-200",children:a.jsx("span",{className:"text-sm p-2",children:k})},$))}),a.jsxs("div",{className:"links p-2 flex items-center gap-5",children:[a.jsx(R,{to:f.deployLink,target:"_blank",children:a.jsx(de,{size:20})}),a.jsx(R,{to:f.githubLink,target:"_blank",children:a.jsx(V,{style:{fontSize:"22px"}})})]}),e&&a.jsxs("div",{className:"links p-2 flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>v(f._id),className:"text-red-700 hover:text-white hover:font-semibold flex items-center cursor-pointer border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-3 py-2 text-center dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900",children:["Delete ",a.jsx("span",{children:a.jsx(ye,{size:20})})]}),a.jsx(R,{to:`/edit/${f._id}`,children:a.jsxs("button",{className:"text-blue-700 hover:text-white hover:font-semibold flex gap-1 items-center cursor-pointer border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-3 py-2 text-center dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-900",children:["Edit ",a.jsx("span",{className:"mb-[2px]",children:a.jsx(ae,{size:19})})]})})]}),a.jsx(be,{isOpen:c,message:"Are you sure you want to delete this project?",onConfirm:C,onCancel:b})]})]},f._id||p)})}):a.jsx("h1",{className:"text-center sm:text-3xl text-2xl font-bold",children:"No Projects Found"})]})},Se=()=>{const[o,e]=m.useState([]),[c,r]=m.useState([]),[d,i]=m.useState("all"),[v,C]=m.useState(!1),b=async()=>{try{C(!0);const g=await(await fetch("https://backendportfolio-seven.vercel.app/api/projects")).json();if(g.success){e(g.projects);const x=["next","react","js","node","asp.net","typescript"],y=g.projects.flatMap($=>$.skills),k=[...new Set(y)].filter($=>x.includes($.trim().toLowerCase()));r(k)}else toast.error("API response error:",g.message||"Unknown error")}catch(p){toast.warning("Fetch error:",p)}finally{C(!1)}};m.useEffect(()=>{b()},[]);const f=d==="all"?o:o.filter(p=>p.skills.includes(d));return v?a.jsx("div",{className:"text-center flex justify-center items-center h-100",children:a.jsx(U,{color:"#41c900"})}):a.jsxs(a.Fragment,{children:[a.jsx(W,{title:"Projects"}),a.jsxs(O.div,{className:"projects py-5 lg:px-10 ",children:[!v&&a.jsxs("div",{className:"flex gap-2 flex-wrap mb-6  justify-center",children:[a.jsx("button",{className:`px-3 py-1 rounded-xl border cursor-pointer hover:bg-gray-400 hover:text-white ${d==="all"?"bg-green-600 text-white":"bg-gray-200 text-black"}`,onClick:()=>i("all"),children:"All"}),c.map((p,g)=>a.jsx("button",{className:`px-3 py-1 rounded-xl border cursor-pointer hover:bg-gray-400 hover:text-white ${d===p?"bg-green-600 text-white":"bg-gray-200 text-black"}`,onClick:()=>i(p),children:p},g))]}),a.jsx(ve,{filteredProjects:f})]})]})};export{Se as default};
