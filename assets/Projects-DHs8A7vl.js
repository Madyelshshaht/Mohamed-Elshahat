import{c as T,j as l,r as N,S as _,L as F,G as R}from"./index-DvA7Azc1.js";import{H as V}from"./Heading-CkfERWDP.js";import{m as O,f as G}from"./animation-8WlByyxY.js";import{e as U,c as X,m as w,b as Y,d as J,f as q,S as K,A as Q,a as W}from"./autoplay-C6XMXnbr.js";import{L as Z,y as z}from"./ReactToastify-BKJoilFz.js";import{G as ee,F as te}from"./index-BH1CdR2_.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],se=T("ExternalLink",ae);function le(p,e,x,c){return p.params.createElements&&Object.keys(c).forEach(f=>{if(!x[f]&&x.auto===!0){let n=U(p.el,`.${c[f]}`)[0];n||(n=X("div",c[f]),n.className=c[f],p.el.append(n)),x[f]=n,e[f]=n}}),x}function D(p){return p===void 0&&(p=""),`.${p.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ie(p){let{swiper:e,extendParams:x,on:c,emit:f}=p;const n="swiper-pagination";x({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${n}-bullet`,bulletActiveClass:`${n}-bullet-active`,modifierClass:`${n}-`,currentClass:`${n}-current`,totalClass:`${n}-total`,hiddenClass:`${n}-hidden`,progressbarFillClass:`${n}-progressbar-fill`,progressbarOppositeClass:`${n}-progressbar-opposite`,clickableClass:`${n}-clickable`,lockClass:`${n}-lock`,horizontalClass:`${n}-horizontal`,verticalClass:`${n}-vertical`,paginationDisabledClass:`${n}-disabled`}}),e.pagination={el:null,bullets:[]};let C,b=0;function k(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function M(t,a){const{bulletActiveClass:s}=e.params.pagination;t&&(t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${s}-${a}`),t=t[`${a==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${s}-${a}-${a}`)))}function P(t,a,s){if(t=t%s,a=a%s,a===t+1)return"next";if(a===t-1)return"previous"}function I(t){const a=t.target.closest(D(e.params.pagination.bulletClass));if(!a)return;t.preventDefault();const s=q(a)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===s)return;const i=P(e.realIndex,s,e.slides.length);i==="next"?e.slideNext():i==="previous"?e.slidePrev():e.slideToLoop(s)}else e.slideTo(s)}function j(){const t=e.rtl,a=e.params.pagination;if(k())return;let s=e.pagination.el;s=w(s);let i,g;const $=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,H=e.params.loop?Math.ceil($/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(g=e.previousRealIndex||0,i=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(i=e.snapIndex,g=e.previousSnapIndex):(g=e.previousIndex||0,i=e.activeIndex||0),a.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const o=e.pagination.bullets;let y,h,B;if(a.dynamicBullets&&(C=J(o[0],e.isHorizontal()?"width":"height"),s.forEach(d=>{d.style[e.isHorizontal()?"width":"height"]=`${C*(a.dynamicMainBullets+4)}px`}),a.dynamicMainBullets>1&&g!==void 0&&(b+=i-(g||0),b>a.dynamicMainBullets-1?b=a.dynamicMainBullets-1:b<0&&(b=0)),y=Math.max(i-b,0),h=y+(Math.min(o.length,a.dynamicMainBullets)-1),B=(h+y)/2),o.forEach(d=>{const m=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(u=>`${a.bulletActiveClass}${u}`)].map(u=>typeof u=="string"&&u.includes(" ")?u.split(" "):u).flat();d.classList.remove(...m)}),s.length>1)o.forEach(d=>{const m=q(d);m===i?d.classList.add(...a.bulletActiveClass.split(" ")):e.isElement&&d.setAttribute("part","bullet"),a.dynamicBullets&&(m>=y&&m<=h&&d.classList.add(...`${a.bulletActiveClass}-main`.split(" ")),m===y&&M(d,"prev"),m===h&&M(d,"next"))});else{const d=o[i];if(d&&d.classList.add(...a.bulletActiveClass.split(" ")),e.isElement&&o.forEach((m,u)=>{m.setAttribute("part",u===i?"bullet-active":"bullet")}),a.dynamicBullets){const m=o[y],u=o[h];for(let S=y;S<=h;S+=1)o[S]&&o[S].classList.add(...`${a.bulletActiveClass}-main`.split(" "));M(m,"prev"),M(u,"next")}}if(a.dynamicBullets){const d=Math.min(o.length,a.dynamicMainBullets+4),m=(C*d-C)/2-B*C,u=t?"right":"left";o.forEach(S=>{S.style[e.isHorizontal()?u:"top"]=`${m}px`})}}s.forEach((o,y)=>{if(a.type==="fraction"&&(o.querySelectorAll(D(a.currentClass)).forEach(h=>{h.textContent=a.formatFractionCurrent(i+1)}),o.querySelectorAll(D(a.totalClass)).forEach(h=>{h.textContent=a.formatFractionTotal(H)})),a.type==="progressbar"){let h;a.progressbarOpposite?h=e.isHorizontal()?"vertical":"horizontal":h=e.isHorizontal()?"horizontal":"vertical";const B=(i+1)/H;let d=1,m=1;h==="horizontal"?d=B:m=B,o.querySelectorAll(D(a.progressbarFillClass)).forEach(u=>{u.style.transform=`translate3d(0,0,0) scaleX(${d}) scaleY(${m})`,u.style.transitionDuration=`${e.params.speed}ms`})}a.type==="custom"&&a.renderCustom?(o.innerHTML=a.renderCustom(e,i+1,H),y===0&&f("paginationRender",o)):(y===0&&f("paginationRender",o),f("paginationUpdate",o)),e.params.watchOverflow&&e.enabled&&o.classList[e.isLocked?"add":"remove"](a.lockClass)})}function r(){const t=e.params.pagination;if(k())return;const a=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let s=e.pagination.el;s=w(s);let i="";if(t.type==="bullets"){let g=e.params.loop?Math.ceil(a/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&g>a&&(g=a);for(let $=0;$<g;$+=1)t.renderBullet?i+=t.renderBullet.call(e,$,t.bulletClass):i+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?i=t.renderFraction.call(e,t.currentClass,t.totalClass):i=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?i=t.renderProgressbar.call(e,t.progressbarFillClass):i=`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],s.forEach(g=>{t.type!=="custom"&&(g.innerHTML=i||""),t.type==="bullets"&&e.pagination.bullets.push(...g.querySelectorAll(D(t.bulletClass)))}),t.type!=="custom"&&f("paginationRender",s[0])}function v(){e.params.pagination=le(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let a;typeof t.el=="string"&&e.isElement&&(a=e.el.querySelector(t.el)),!a&&typeof t.el=="string"&&(a=[...document.querySelectorAll(t.el)]),a||(a=t.el),!(!a||a.length===0)&&(e.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(a)&&a.length>1&&(a=[...e.el.querySelectorAll(t.el)],a.length>1&&(a=a.find(s=>Y(s,".swiper")[0]===e.el))),Array.isArray(a)&&a.length===1&&(a=a[0]),Object.assign(e.pagination,{el:a}),a=w(a),a.forEach(s=>{t.type==="bullets"&&t.clickable&&s.classList.add(...(t.clickableClass||"").split(" ")),s.classList.add(t.modifierClass+t.type),s.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(s.classList.add(`${t.modifierClass}${t.type}-dynamic`),b=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&s.classList.add(t.progressbarOppositeClass),t.clickable&&s.addEventListener("click",I),e.enabled||s.classList.add(t.lockClass)}))}function L(){const t=e.params.pagination;if(k())return;let a=e.pagination.el;a&&(a=w(a),a.forEach(s=>{s.classList.remove(t.hiddenClass),s.classList.remove(t.modifierClass+t.type),s.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(s.classList.remove(...(t.clickableClass||"").split(" ")),s.removeEventListener("click",I))})),e.pagination.bullets&&e.pagination.bullets.forEach(s=>s.classList.remove(...t.bulletActiveClass.split(" ")))}c("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:a}=e.pagination;a=w(a),a.forEach(s=>{s.classList.remove(t.horizontalClass,t.verticalClass),s.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),c("init",()=>{e.params.pagination.enabled===!1?A():(v(),r(),j())}),c("activeIndexChange",()=>{typeof e.snapIndex>"u"&&j()}),c("snapIndexChange",()=>{j()}),c("snapGridLengthChange",()=>{r(),j()}),c("destroy",()=>{L()}),c("enable disable",()=>{let{el:t}=e.pagination;t&&(t=w(t),t.forEach(a=>a.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),c("lock unlock",()=>{j()}),c("click",(t,a)=>{const s=a.target,i=w(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&i&&i.length>0&&!s.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&s===e.navigation.nextEl||e.navigation.prevEl&&s===e.navigation.prevEl))return;const g=i[0].classList.contains(e.params.pagination.hiddenClass);f(g===!0?"paginationShow":"paginationHide"),i.forEach($=>$.classList.toggle(e.params.pagination.hiddenClass))}});const E=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=w(t),t.forEach(a=>a.classList.remove(e.params.pagination.paginationDisabledClass))),v(),r(),j()},A=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=w(t),t.forEach(a=>a.classList.add(e.params.pagination.paginationDisabledClass))),L()};Object.assign(e.pagination,{enable:E,disable:A,render:r,update:j,init:v,destroy:L})}const ne=({isOpen:p,message:e,onConfirm:x,onCancel:c})=>p?l.jsx("div",{className:"fixed inset-0 z-30  flex items-center justify-center bg-[rgba(0,0,0,0.5)]",children:l.jsxs("div",{className:"bg-white  p-6 rounded shadow-md w-11/12 max-w-md absolute top-5 ",children:[l.jsx("p",{className:"sm:text-lg text-md mb-4 text-black",children:e}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 cursor-pointer",children:"Cancel"}),l.jsx("button",{onClick:x,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 cursor-pointer",children:"Confirm"})]})]})}):null;function re(p){return ee({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(p)}const oe=()=>{const p=localStorage.getItem("token"),[e,x]=N.useState([]);console.log(e);const[c,f]=N.useState(!1),[n,C]=N.useState(!1),[b,k]=N.useState(null),M=async()=>{try{f(!0);const v=await(await fetch("https://backendportfolio-seven.vercel.app/api/projects")).json();v.success?x(v.projects):z.error("API response error:",v.message||"Unknown error")}catch(r){z.warning("Fetch error:",r)}finally{f(!1)}};N.useEffect(()=>{M()},[]);const P=r=>{k(r),C(!0)},I=async()=>{if(b)try{(await(await fetch(`https://backendportfolio-seven.vercel.app/api/projects/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${p}`}})).json()).success?(z.success("Projetc Deleted Successfully"),x(e.filter(L=>L._id!==b))):z.error("Failed to delete project")}catch(r){console.error(r),z.error("Error deleting project")}finally{C(!1),k(null)}},j=()=>{C(!1),k(null),z.error("Deleted Cansel")};return c?l.jsx("div",{className:"text-center flex justify-center items-center h-100",children:l.jsx(_,{color:"#41c900"})}):l.jsxs(l.Fragment,{children:[l.jsx(Z,{}),e.length>0?e.map((r,v)=>{var E,A;const L=v%2===0?"md:flex-row-reverse":"md:flex-row";return l.jsxs(O.div,{variants:G("up",.3),initial:"hidden",whileInView:"show",viewport:{once:!1,amount:.5},className:`project flex md:flex-row ${L}  items-center flex-col gap-2 shadow-md shadow-gray-500 mb-10`,children:[l.jsx("div",{className:"img md:w-1/2 w-full  p-2",children:l.jsx(K,{slidesPerView:1,spaceBetween:30,loop:!0,autoplay:{delay:8e3,disableOnInteraction:!1},pagination:{clickable:!0},modules:[Q,ie],className:"mySwiper",children:(E=r.images)==null?void 0:E.map((t,a)=>l.jsx(W,{children:l.jsx("img",{src:t.url,alt:`${t} ${a+1}`,className:"rounded-lg"})},a))})}),l.jsxs(O.div,{variants:G("up",.2),initial:"hidden",whileInView:"show",viewport:{once:!1,amount:.7},className:"info p-2 lg:p-4 md:w-1/2 w-full flex flex-col  overflow-hidden gap-2",children:[l.jsx("h3",{className:"title mb-2 text-2xl",children:r.title}),l.jsx("div",{className:"desc mb-2 text-xs md:text-md lg:text-lg ",children:r.desc}),l.jsx("div",{className:"skills-used flex items-center gap-x-5 gap-y-3 flex-wrap text-black",children:(A=r.skills)==null?void 0:A.map((t,a)=>l.jsx("div",{className:"rounded-2xl cursor-pointer bg-gray-200",children:l.jsx("span",{className:"text-sm p-2",children:t})},a))}),l.jsxs("div",{className:"links p-2 flex items-center gap-5 ",children:[l.jsx(F,{to:r.deployLink,target:"_blank",children:l.jsx(se,{size:20})}),l.jsx(F,{to:r.githubLink,target:"_blank",children:l.jsx(R,{style:{fontSize:"22px"}})})]}),p&&l.jsxs("div",{className:"links  p-2 flex items-center gap-2 ",children:[l.jsxs("button",{onClick:()=>P(r._id),class:"text-red-700 hover:text-white hover:font-semibold flex items-center cursor-pointer border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-3 py-2 text-center  dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-900",children:["Delete ",l.jsx("span",{children:l.jsx(re,{size:20})})]}),l.jsx(F,{to:`/edit/${r._id}`,children:l.jsxs("button",{class:"text-blue-700 hover:text-white hover:font-semibold flex gap-1 items-center cursor-pointer border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-3 py-2 text-center  dark:border-blue-500 dark:text-blue-500  dark:hover:bg-blue-600 dark:focus:ring-blue-900",children:["Edit ",l.jsx("span",{className:"mb-[2px]",children:l.jsx(te,{size:19})})]})})]}),l.jsx(ne,{isOpen:n,message:"Are you sure you want to delete this project?",onConfirm:I,onCancel:j})]})]},v)}):l.jsx("h1",{className:"text-center sm:text-3xl text-2xl font-bold",children:" No Projects Found"})]})},ge=()=>l.jsxs(l.Fragment,{children:[l.jsx(V,{title:"Projects"}),l.jsx(O.div,{className:"projects py-5 lg:px-10 ",children:l.jsx(oe,{})})]});export{ge as default};
